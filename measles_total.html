<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Measles (Total) Surveillance | US Public Health Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.32.0/plotly.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>
    <style>
        /* Same styles as disease dashboard */
    </style>
</head>
<body>
    <!-- Same structure as disease dashboard -->
    <script>
        // Load and combine imported + indigenous measles data
        async function loadAllData() {
            const nndssResponse = await fetch('nndss_data.csv');
            const nndssText = await nndssResponse.text();
            const nndssResult = Papa.parse(nndssText, { header: true, dynamicTyping: false });
            
            const statesResponse = await fetch('states_data.csv');
            const statesText = await statesResponse.text();
            const statesResult = Papa.parse(statesText, { header: true, dynamicTyping: true });
            
            statesData = statesResult.data;
            
            // Combine measles types
            const measlesImported = nndssResult.data.filter(row => row.Label === 'Measles, Imported');
            const measlesIndigenous = nndssResult.data.filter(row => row.Label === 'Measles, Indigenous');
            
            // Combine by state and week
            diseaseData = combineMeaslesData(measlesImported, measlesIndigenous);
            latestWeek = Math.max(...diseaseData.map(d => d['MMWR WEEK']));
            currentWeek = latestWeek;
        }
        
        // Rest of the code...
    </script>
</body>
</html>